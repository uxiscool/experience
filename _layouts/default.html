<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ page.title | default: site.title }}</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght,SOFT,WONK@72,400,1,1&display=swap">
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/main.css">
    <meta name="viewport" content="width=device-width,initial-scale=1">
  </head>
  <body>
    {% include header.html %}
    <main>
      {{ content }}
    </main>
    <script>
let lightboxImages = [];
let lightboxIndex = 0;

function openLightbox(imgEl) {
  lightboxImages = JSON.parse(imgEl.dataset.images.replace(/&quot;/g,'"'));
  lightboxIndex = Number(imgEl.dataset.index) || 0;
  document.getElementById('lightbox').style.display = 'flex';
  showLightboxImg();
}

function showLightboxImg() {
  const data = lightboxImages[lightboxIndex];
  document.getElementById('lightbox-img').src = data.src;
  document.getElementById('lightbox-caption').textContent = data.caption || '';
}

function closeLightbox() {
  document.getElementById('lightbox').style.display = 'none';
}

function lightboxPrev() {
  lightboxIndex = (lightboxIndex + lightboxImages.length - 1) % lightboxImages.length;
  showLightboxImg();
}

function lightboxNext() {
  lightboxIndex = (lightboxIndex + 1) % lightboxImages.length;
  showLightboxImg();
}

document.addEventListener('keydown', function(e) {
  const lb = document.getElementById('lightbox');
  if (!lb || lb.style.display !== 'flex') return;
  if (e.key === "Escape") closeLightbox();
  if (e.key === "ArrowLeft") lightboxPrev();
  if (e.key === "ArrowRight") lightboxNext();
});
</script>

  </body>
</html>
